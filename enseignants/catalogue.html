<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Consolidation en  mathématiques: catalogue"
    />
    <meta name="author" content="Damien Mégy" />
    <title>DojoMath.fr : Catalogue complet des questions</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css"
    />

    <script type="text/javascript" src="../questions.json"></script>

    <style>
      .nowrap {
        max-width: 100%;
        white-space: nowrap;
      }
      body {
        margin: 0;
        padding: 1rem;
      }
    </style>
  </head>

  <body>
    <h2>DojoMath.fr : catalogue général des questions</h2>
    <p>
      Cette page affiche toutes les questions (classés par identifiant donc par
      ordre d'ajout, pas par ordre thématique) de l'application. Ceci permet de
      faire des listes de questions (et de vérifier les questions). Utilisation
      : faire une recherche avec Cmd+F pour trouver des exos sur les mots-clés
      voulus.
    </p>
    <p>
      (Avertissement : il y a plusieurs milliers de questions, MathJax met
      plusieurs secondes à mettre tout ça en forme.)
    </p>
    <div id="mainDiv">Chargement...</div>

    <script type="text/javascript">
      questions = [];
      fetch("../questions.json?again=" + Math.random())
        .then((response) => response.json())
        .then((json) => {
          questions = json;
          console.log("Questions loaded from json");
          createTable();
        });

      function createTable() {
        let s = `<table id="mainTable" class="table table-striped table-bordered table-sm">
        <thead><tr>
            <th>Quest°</th>
            <th>V/F</th>
            <th>Énoncé</th>
        </tr>
        </thead>
        <tbody>`;
        for (let i = 0; i < questions.length; i++) {
          // _questions est un tableau
          let question = questions[i];
          let ligne = `
					<tr>
						<td>${i}</td>
						<td>${questions[i].answer ? "V" : "F"}</td>
						<td>${questions[i].statement}</td>
					</tr>`;
          s += ligne;
        }
        s += "</tbody></table>";
        document.getElementById("mainDiv").innerHTML = s;
      }
    </script>
    <script>
      MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
          macros: {
            N: "{\\mathbb{N}}",
            Z: "{\\mathbb{Z}}",
            Q: "{\\mathbb{Q}}",
            R: "{\\mathbb{R}}",
            C: "{\\mathbb{C}}",
            U: "{\\mathbb{U}}",
            P: "{\\mathbb{P}}",
            llbracket: "{[\\![}",
            rrbracket: "{]\\!]}",
            tr: "{\\mathrm{tr}}",
            rg: "{\\mathrm{rg}}",
            im: "{\\mathrm{im}}",
            id: "{\\mathrm{id}}",
            Mat: "{\\mathrm{Mat}}",
          },
          svg: {
            fontCache: "global",
          },
        },
      };
    </script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
  </body>
</html>
