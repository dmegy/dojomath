<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <link href="assets/fontawesome/css/fontawesome.min.css" rel="stylesheet" />
    <link href="assets/fontawesome/css/solid.min.css" rel="stylesheet" />

    <script src="js/functions.js"></script>
    <script src="js/components.js"></script>
    <script src="js/svg-paths.js"></script>
    <script src="js/app.js"></script>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 110 100'><text y='0.9em' font-size='90'>üèÜ</text></svg>"
    />
    <title>DojoMath</title>
  </head>
  <body>
    <header class="glow">
      <div class="centered-header">
        <nav>
          <div class="nav-button" onClick="goto('Home')">
            <i id="navButtonHome" class="fa-solid fa-home circled"></i>
          </div>
          <div class="nav-button" onClick="goto('Profile')">
            <i id="navButtonProfile" class="fa-solid fa-user"> </i>
          </div>
          <div class="nav-button" onClick="goto('Statistics')">
            <i id="navButtonStatistics" class="fa-solid fa-chart-line"> </i>
          </div>
          <div class="nav-button" onClick="goto('Trophies')">
            <i id="navButtonTrophies" class="fa-solid fa-trophy"> </i>
          </div>
        </nav>
        <div x-html="htmlPoints()"></div>
      </div>
    </header>
    <main>
      <section id="home" x-show="(state=='Home')">
        <h1 class="glow">Bienvenue</h1>
        <h2>R√®gles du jeu</h2>
        <p>
          Chaque r√©ponse correcte rapporte un point, chaque r√©ponse incorrecte
          enl√®ve un point.
        </p>
        <p>
          Des bonus sont octroy√©s pour des s√©ries de bonnes r√©ponses
          cons√©cutives.
        </p>
        <h2>Tableau des scores</h2>
        <div>- - - Chargement des scores - - -</div>
      </section>

      <!-- - - - - - C H A P I T R E S - - - - - -->

      <section id="chapters" x-show="(state=='Chapters')" style="display: none">
        <div x-html="htmlChapters()"></div>
      </section>
      <!-- - - - - - T H E M E - - - - - -->
      <section id="theme" x-show="(state=='theme')" style="display: none">
        <h3 x-html="theme.title"></h3>
        <p x-html="theme.info"></p>
        <div class="stats-theme">
          <div style="flex-grow: 1; min-height: 5rem" class="stats-theme-infos">
            <span x-html="theme.questions.length">?</span> questions dont :
            <div style="width: 100%; height: 0.4rem"></div>
            <span style="display: inline; color: var(--c-seen)">
              <svg
                class="svg-icon"
                viewBox="0 0 580 512"
                style="margin-right: 0.7rem"
                x-html="svgPathFarEye"
              ></svg>
              <span x-html="theme.nbQuestionsSeen || '0' ">?</span>
              d√©j√† affich√©es (<span
                x-html="theme.nbQuestionsSeen/theme.length || '0' "
                >?</span
              >%)
            </span>
            <br />
            <span style="display: inline; color: var(--c-successful)">
              <svg
                class="svg-icon"
                viewBox="0 0 512 512"
                style="margin-right: 0.7rem"
                x-html="svgPathFasCheck"
              ></svg>
              <span x-html="theme.nbQuestionsChecked || '0' ">?</span> r√©ussies
              (<span x-html="theme.nbQuestionsSuccessful/theme.length || '0' "
                >?</span
              >%)</span
            >

            <br />
            <span style="display: inline; color: var(--c-double-successful)">
              <svg
                class="svg-icon"
                viewBox="0 0 512 512"
                style="margin-right: 0.7rem"
                x-html="svgPathFasCheckDouble"
              ></svg>
              <span x-html="theme.nbQuestionsDbChecked || '0' ">?</span>
              consolid√©es (<span
                x-html="theme.nbQuestionsDbSuccessful/theme.length || '0' "
                >?</span
              >%)
            </span>
          </div>
        </div>
        <div
          style="margin-top: 1.5rem"
          class="button button-primary"
          onclick="startQuiz()"
        >
          <svg
            class="svg-icon"
            x-html="svgPathFasCirclePlay"
            viewBox="0 0 512 512"
          ></svg>
          Quiz de 10 questions
        </div>
      </section>

      <!-- - - - - - S T A T S  - - - - - -->

      <section
        id="statistics"
        x-show="state=='Statistics'"
        style="display: none"
      >
        <h1 class="glow">Statistiques</h1>
        <h3>Bilan</h3>
        <h3><i class="fa-solid fa-list-check"></i> Objectifs du jour</h3>
        <h3>
          <i style="rotate: 20deg" class="fa-solid fa-dumbbell"></i> Prochaines
          √©tapes
        </h3>
        <div style="display: flex; gap: 0.5rem; align-items: center">
          <div style="flex-shrink: 0">Niveau ? (? pts):</div>
          <div
            style="height: 0.5rem; flex-grow: 1"
            x-html="htmlProgress(user.points,nextLevelThreshold(user.points))"
          ></div>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center">
          <div style="flex-shrink: 0">R√©ussir ? questions :</div>
          <div
            style="height: 0.5rem; flex-grow: 1"
            x-html="htmlProgress(user.nbCorrectAnswers,100*Math.ceil(user.nbCorrectAnswers/100))"
          ></div>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center">
          <div style="flex-shrink: 0">Finir ? quiz avec un score parfait :</div>
          <div
            style="height: 0.5rem; flex-grow: 1"
            x-html="htmlProgress(user.perfects,10*(Math.floor(user.perfects/10)+1))"
          ></div>
        </div>
        <h3><i class="fa-solid fa-chart-column"></i> Activit√© sur 48h</h3>
      </section>

      <!-- - - - - - P R O F I L - - - - - -->

      <section id="profile" x-show="(state=='Profile')" style="display: none">
        <h1 class="glow">Profil Utilisateur</h1>
        <p>Ici les r√©glages de club, avatar, login √©ventuel</p>

        <div class="avatar" style="width: 6rem; height: 6rem">
          <div id="avatarDisk" class="avatar-disk avatar-missing">
            <svg
              id="avantAvatar"
              style="width: 90%; height: 90%; opacity: 0.1"
              viewBox="0 0 512 512"
              class="svg-icon"
              x-html="svgPathFasUserLarge"
            ></svg>
            <img
              id="avatarImg"
              width="100%"
              height="100%"
              style="display: none"
            />
          </div>
          <label for="inputTag" class="change-avatar" style="">
            <svg
              class="svg-icon"
              viewBox="0 0 512 512"
              x-html="svgPathFasPenToSquare"
            ></svg>
            <input
              id="inputTag"
              type="file"
              accept="image/jpeg, image/png"
              style="display: none"
            />
          </label>
        </div>

        <div>
          <p>Identifiant utilisateur : <span x-html="user.userId"></span></p>
          <p>Nom utilisateur : <span x-html="user.userId"></span></p>
          <p>D√©partement (si France) :</p>
          <p>Club :</p>
        </div>

        <div>
          <p>Utilisateur c√¥t√© serveur :</p>
          <p>Tu n'est pas loggu√©(e)</p>
          <p>
            Boutons se loguer (pour loader un utilisateur d√©j√† existant), cr√©er
            un compte,
          </p>
        </div>
      </section>

      <section id="trophies" x-show="(state=='Trophies')" style="display: none">
        <h1 class="glow">Troph√©es</h1>
        <p>Tes troph√©es seront affich√©s ici.</p>
      </section>
      <div
        id="fab"
        class="fab pulse"
        onClick="gotoChapters()"
        x-show="(state=='Home')||(state=='Profile')||(state=='Statistics')||(state=='Trophies')"
      >
        <i class="fa-solid fa-play" style="transform: translateX(0.1rem)"></i>
      </div>
    </main>
  </body>
</html>
